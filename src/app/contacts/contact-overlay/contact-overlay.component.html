<div class="absolute top-0 right-0 flex h-full w-full">
  <div class="w-full bg-white/50" (click)="onCloseOverlay()"></div>
  <div
    class="absolute left-0 h-full w-1/3 rounded-r-3xl bg-white lg:font-light text-white shadow-custom-card"
  >
    <div
      class="relative flex h-1/3 flex-col items-center justify-center gap-5 rounded-tr-3xl"
      [ngClass]="editMode ? 'bg-custom-blue-dark' : 'bg-custom-blue'"
    >
      <img
        class="absolute right-8 top-8 cursor-pointer brightness-0 invert"
        (click)="onCloseOverlay()"
        src="assets/img/cancel.svg"
        alt="close"
      />

      <img class="h-16" src="assets/img/icon_white.svg" alt="logo" />

      <ng-container *ngIf="!editMode; else editContainer">
        <h1 class="text-4xl font-semibold">Add contact</h1>
        <span class="text-2xl">Tasks are better with a team!</span>
      </ng-container>

      <ng-template #editContainer>
        <h1 class="text-4xl font-semibold">Edit contact</h1>
      </ng-template>
    </div>

    <form
      class="flex h-2/3 flex-col items-center justify-center gap-10 px-16 text-black"
      (ngSubmit)="onSubmit()"
      #contactForm="ngForm"
    >
      <div
        class="flex h-28 w-28 items-center justify-center rounded-full border-2 border-white bg-custom-placeholder-gray shadow-custom-info-fields relative"
        [ngStyle]="{
          'background-color': editMode ? selectedBackgroundColor : ''
        }"
      >
        <img
          *ngIf="!editMode; else contactAbbrevation"
          class="h-14 w-14 brightness-0 invert"
          src="assets/img/Vector-4.svg"
          alt="avatar"
        />

        <ng-template #contactAbbrevation>
          <span class="text-5xl text-white">{{
            selectedContact.abbrevation
          }}</span>
        </ng-template>

        <label class="colorpicker h-6 w-6 absolute right-0 bottom-0 bg-white rounded-full border">
                  <input
                    class="opacity-0 h-6 w-6 cursor-pointer"
                    id="color"
                    name="color"
                    type="color"
                    (blur)="onSelectBackgroundColor(colorpicker.value)"
                    #colorpicker
                  />
                </label>
      </div>

      <div class="flex w-full justify-between border-b py-2 px-4">
        <input
          class="placeholder:text-custom-placeholder-gray"
          type="text"
          placeholder="Name"
          name="name"
          required
          [ngModel]="editMode ? selectedContact.name : ''"
        />

        <img src="assets/img/Vector-4.svg" alt="name" />
      </div>

      <div class="flex w-full justify-between border-b py-2 px-4">
        <input
          class="placeholder:text-custom-placeholder-gray"
          type="text"
          placeholder="Email"
          name="email"
          required
          email
          [ngModel]="editMode ? selectedContact.email : ''"
        />

        <img src="assets/img/Vector-5.svg" alt="email" />
      </div>

      <div class="flex w-full justify-between border-b py-2 px-4">
        <input
          class="placeholder:text-custom-placeholder-gray"
          type="text"
          placeholder="Phone"
          name="phoneNumber"
          required
          [ngModel]="editMode ? selectedContact.phoneNumber : ''"
        />

        <img src="assets/img/Vector-6.svg" alt="phone" />
      </div>

      <div class="flex w-full justify-center gap-5">
        <button
          class="group box-border flex gap-4 rounded-lg py-3 px-4 text-xl outline outline-1 outline-gray-400 transition-all hover:shadow-md hover:outline-2 hover:outline-custom-blue"
          type="button"
        >
          <span
            class="text-gray-400 group-hover:text-custom-blue"
            (click)="onCloseOverlay()"
            >Cancel</span
          >
          <span class="text-gray-400 group-hover:text-custom-blue">x</span>
        </button>

        <app-button-primary>
          <div class="flex gap-4 p-1 text-xl">
            <span *ngIf="!editMode">Create contact</span>
            <span *ngIf="editMode">Edit Contact</span>
            <img
              class="brightness-0 invert"
              src="assets/img/Vector-3.svg"
              alt="create"
            />
          </div>
        </app-button-primary>
      </div>
    </form>
  </div>
</div>
